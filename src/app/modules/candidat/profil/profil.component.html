<div class="container">  
  <aside>
      <div class="logo-divider"></div>

      <div class="sidebar">
         <img src="  /images/logo.png">
         
          <div class="logo-divider"></div><br>
          <a href="Candidat/dashboard">
              <span class="material-icons-sharp">
                  dashboard
              </span>
              <h3>Accueil</h3>
          </a>
          <a href="Candidat/profil"  class="active">
              <span class="material-icons-sharp">
                  person_outline
              </span>
              <h3>Profil</h3>
          </a>
          <a href="Candidat/choixSujet">
              <span class="material-icons-sharp">
                  receipt_long
              </span>
              <h3>Sujets de thèse</h3>
          </a>
          <a href="Candidat/planning" >
            <span class="material-icons-sharp">
                event
                </span>
              <h3>Planning</h3>
          </a>
         
          <a href="Candidat/bourse">
              <span class="material-icons-sharp">
                insights
              </span>
              <h3>Bourse</h3>
          </a>
          <a href="">
              <span class="material-icons-sharp">
                  logout
              </span>
              <button (click)="onLogout()"><h3>Logout</h3></button>
          </a>
          <br><br><br><br><br><br><img src="  /images/hmama.svg">
      </div>
  </aside>
  <!-- End of Sidebar Section -->

  <!-- Main Content -->
  <main>
      <h1>Mon profil</h1>
      <!-- Analyses -->
      
<br>
      <!-- New Users Section -->
     <!-- Section État Civil -->
     <div class="new-users">
      <h2>État Civil</h2>
      <div class="etat-civil-form">
                <!-- Afficher le message de succès s'il existe -->
<div *ngIf="successMessageCivil" class="success-message">
  {{ successMessageCivil }}
</div>

<!-- Afficher le message d'erreur s'il existe -->
<div *ngIf="errorMessageCivil" class="error-message">
  {{ errorMessageCivil }}
</div>
        <div class="form-row">
          <label>Nom*</label>
          <input type="text" [(ngModel)]="candidatdetails.nom" required>
        </div>
        <div class="form-row">
          <label>Prénom*</label>
          <input type="text" [(ngModel)]="candidatdetails.prenom" required>
        </div>
        <div class="form-row">
          <label>Nom Arabe*</label>
          <input type="text" [(ngModel)]="candidatdetails.nomArabe" required>
        </div>
        <div class="form-row">
          <label>Prénom Arabe*</label>
          <input type="text" [(ngModel)]="candidatdetails.prenomArabe" required>
        </div>
        <div class="form-row">
          <label>Téléphone*</label>
          <input type="text" [(ngModel)]="candidatdetails.telephone" required>
        </div>
        <div class="form-row">
          <label>Situation Familiale*</label>
          <select [(ngModel)]="candidatdetails.situationFamiliale">
            <option value="celibataire">Célibataire</option>
            <option value="marie">Marié(e)</option>
            <option value="divorce">Divorcé(e)</option>
          </select>
        </div>
        <div class="form-row">
          <label>Nationalité*</label>
          <select [(ngModel)]="candidatdetails.nationalite">
            <option value="marocaine">Marocaine</option>
            <option value="etranger">Étranger</option>
          </select>
        </div>
        <div class="form-row">
          <label>CIN*</label>
          <input type="text" [(ngModel)]="candidatdetails.cin" required>
        </div>
        <div class="form-row">
          <label>Handicap*</label>
          <input type="text" [(ngModel)]="candidatdetails.handicap" required>
        </div>
        <div class="form-row">
          <label>Adresse*</label>
          <input type="text" [(ngModel)]="candidatdetails.adresse">
        </div>
        <div class="form-row">
          <label>Code Postal*</label>
          <input type="number" [(ngModel)]="candidatdetails.codePostal">
        </div>
        <div class="form-row">
          <label>Profession du père*</label>
          <input type="text" [(ngModel)]="candidatdetails.professionPere">
        </div>
        <div class="form-row">
          <label>Province du père*</label>
          <input type="text" [(ngModel)]="candidatdetails.provincePere">
        </div>
        <div class="form-row">
          <label>Profession de la mère*</label>
          <input type="text" [(ngModel)]="candidatdetails.professionMere">
        </div>
        <div class="form-row">
          <label>Province de la mère*</label>
          <input type="text" [(ngModel)]="candidatdetails.provinceMere">
        </div>
        <div class="form-row">
          <label>Votre profession*</label>
          <input type="text" [(ngModel)]="candidatdetails.profession">
        </div>
        <div class="form-row">
          <label>Date de naissance*</label>
          <input type="date" [(ngModel)]="candidatdetails.dateNaissance">
        </div>
        <button class="submit-btn" (click)="sauvegarderEtatCivil()">Sauvegarder État Civil</button>

      </div>
    </div>
    



<!-- Section Baccalauréat -->
<div class="new-users" *ngIf="diplomes && diplomes.length > 0">
<h2>Baccalauréat</h2>
<div class="etat-civil-form" *ngIf="diplomes[0]">
<div class="form-row">
<label>Nom du lycée*</label>
<input type="text" [(ngModel)]="diplomes[0].nomEtablissement" required />
</div>
<div class="form-row">
<label>Pays*</label>
<input type="text" [(ngModel)]="diplomes[0].pays" />
</div>
<div class="form-row">
<label>Académie*</label>
<input type="text" [(ngModel)]="diplomes[0].academie" required />
</div>
<div class="form-row">
<label>Statut*</label>
<select [(ngModel)]="diplomes[0].statut">
  <option value="public">Public</option>
  <option value="privee">Privée</option>
</select>
</div>
<div class="form-row">
<label>Filière de Bac*</label>
<input type="text" [(ngModel)]="diplomes[0].specialite" />
</div>
<div class="form-row">
<label>Année d'obtention*</label>
<input type="text" [(ngModel)]="diplomes[0].anneeObtention" required />
</div>
<div class="form-row">
<label>Mention*</label>
<select [(ngModel)]="diplomes[0].mention">
  <option value="tbien">Très bien</option>
  <option value="bien">Bien</option>
  <option value="abien">Assez bien</option>
  <option value="passable">Passable</option>
</select>
</div>
<div class="form-row">
<label>Moyenne générale /20*</label>
<input type="text" [(ngModel)]="diplomes[0].moyenne" required />
</div>
</div>
</div>

<!-- Section Licence -->
<div class="new-users" *ngIf="diplomes && diplomes.length > 0">
<h2>Licence</h2>
<div class="etat-civil-form" *ngIf="diplomes[1]">
<div class="form-row">
<label>Etablissement*</label>
<input type="text" [(ngModel)]="diplomes[1].nomEtablissement" required />
</div>
<div class="form-row">
<label>Pays*</label>
<input type="text" [(ngModel)]="diplomes[1].pays" />
</div>
<div class="form-row">
<label>Académie*</label>
<input type="text" [(ngModel)]="diplomes[1].academie" required />
</div>
<div class="form-row">
<label>Statut*</label>
<select [(ngModel)]="diplomes[1].statut">
  <option value="public">Public</option>
  <option value="privee">Privée</option>
</select>
</div>
<div class="form-row">
<label>Spécialité*</label>
<input type="text" [(ngModel)]="diplomes[1].specialite" />
</div>
<div class="form-row">
<label>Année d'obtention*</label>
<input type="text" [(ngModel)]="diplomes[1].anneeObtention" required />
</div>
<div class="form-row">
<label>Mention*</label>
<select [(ngModel)]="diplomes[1].mention">
  <option value="tbien">Très bien</option>
  <option value="bien">Bien</option>
  <option value="abien">Assez bien</option>
  <option value="passable">Passable</option>
</select>
</div>
<div class="form-row">
<label>Moyenne générale /20*</label>
<input type="text" [(ngModel)]="diplomes[1].moyenne" required />
</div>
</div>
</div>
<!-- Section Master -->
<div class="new-users" *ngIf="diplomes && diplomes.length > 0">
<h2>Master ou équivalent</h2>
<div class="etat-civil-form" *ngIf="diplomes[2]">
<div class="form-row">
<label>Nom du lycée*</label>
<input type="text" [(ngModel)]="diplomes[2].nomEtablissement" required />
</div>
<div class="form-row">
<label>Pays*</label>
<input type="text" [(ngModel)]="diplomes[2].pays" />
</div>
<div class="form-row">
<label>Académie*</label>
<input type="text" [(ngModel)]="diplomes[2].academie" required />
</div>
<div class="form-row">
<label>Statut*</label>
<select [(ngModel)]="diplomes[2].statut">
  <option value="public">Public</option>
  <option value="privee">Privée</option>
</select>
</div>
<div class="form-row">
<label>Filière de Bac*</label>
<input type="text" [(ngModel)]="diplomes[2].specialite" />
</div>
<div class="form-row">
<label>Année d'obtention*</label>
<input type="text" [(ngModel)]="diplomes[2].anneeObtention" required />
</div>
<div class="form-row">
<label>Mention*</label>
<select [(ngModel)]="diplomes[2].mention">
  <option value="tbien">Très bien</option>
  <option value="bien">Bien</option>
  <option value="abien">Assez bien</option>
  <option value="passable">Passable</option>
</select>
</div>
<div class="form-row">
<label>Moyenne générale /20*</label>
<input type="text" [(ngModel)]="diplomes[2].moyenne" required />
</div>
</div>
</div>



       
<br>

<!-- Section Langues -->
<!-- Section Langues -->
<div class="new-users">
  <div class="header">
    <h2>Langues</h2>
    <button (click)="ajouterNouvelleLangue()" class="btn-add-langue">+</button>
  </div>
  <div class="etat-civil-form">
    
<div *ngIf="successMessageLangue" class="success-message">
  {{ successMessageLangue }}
</div>
<div *ngIf="errorMessageLangue" class="error-message">
  {{ errorMessageLangue }}
</div>

    <div *ngFor="let langue of Langues; let i = index" class="langue-group">
      <div class="form-row">
        <label>Langue {{ i + 1 }} <span *ngIf="i === 0" style="color: red">*</span></label>
        <input type="text" [(ngModel)]="langue.langue" [required]="i === 0">
      </div>
      <div class="form-row">
        <label>Niveau langue {{ i + 1 }} <span *ngIf="i === 0" style="color: red">*</span></label>
        <select [(ngModel)]="langue.niveau" [required]="i === 0">
          <option value="a1">A1 Niveau Découverte</option>
          <option value="a2">A2 Niveau Intermédiaire</option>
          <option value="b1">B1 Niveau Seuil</option>
          <option value="b2">B2 Niveau Avancé</option>
          <option value="c1">C1 Niveau Autonome</option>
          <option value="c2">C2 Niveau Maitrisé</option>
        </select>
      </div>

    </div>
    <button (click)="sauvegarderLangues()" class="btn-save-langues">Sauvegarder les langues</button>

  </div>
</div>

       
<br>

<!-- Section Expériences Professionnelles -->
<!-- Section Expériences Professionnelles -->
 <div class="new-users">
  <h2>Expériences professionnelles</h2>
  <button (click)="ajouterNouvelleExperience()" class="btn-add-langue">+</button>
  <div *ngFor="let experience of experiences; let i = index" class="etat-civil-form">
    <div *ngIf="successMessageExp" class="success-message">
      {{ successMessageExp }}
    </div>
    <div *ngIf="errorMessageExp" class="error-message">
      {{ errorMessageExp }}
    </div>
    <div class="form-row">
      <label>Expérience {{ i + 1 }}*</label>
      <input type="text" [(ngModel)]="experience.experience" required>
    </div>
    <div class="form-row">
      <label>Etablissement {{ i + 1 }}*</label>
      <input type="text" [(ngModel)]="experience.etablissement" required>
    </div>
    <div class="form-row">
      <label>Fonction {{ i + 1 }}*</label>
      <input type="text" [(ngModel)]="experience.fonction">
    </div>
    <div class="form-row">
      <label>Secteur {{ i + 1 }}*</label>
      <input type="text" [(ngModel)]="experience.secteurActivite">
    </div>
    <div class="form-row">
      <label>Du*</label>
      <input type="date" [(ngModel)]="experience.dateDebut" required>
    </div>
    <div class="form-row">
      <label>Au*</label>
      <input type="date" [(ngModel)]="experience.dateFin" required>
    </div>

  </div>
<div class="etat-civil-form2">  <button (click)="sauvegarderExperiences()" class="btn-save-langues">Sauvegarder les expériences</button>
</div>
</div>

       
<br>



<!-- Bouton Global pour Sauvegarder Tout -->
<div class="save-all-section">
<button (click)="sauvegarderTout()">Sauvegarder Toutes les Informations</button>
</div>
<!-- Affichage des messages -->
<div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>


<br>

     
      
  </main>
  <!-- End of Main Content -->

  <!-- Right Section -->
  <div class="right-section">
      <div class="nav">
       
         

          <div class="profile">
              <div class="info">
                  <p>Hey, <b>{{candidatDetails.prenom}}</b></p>
              </div>
              <div class="profile-photo">
                  <img src="images/hero-banner-1.jpg">
              </div>
          </div>

      </div>
      <!-- End of Nav -->

     

  </div>


</div>

